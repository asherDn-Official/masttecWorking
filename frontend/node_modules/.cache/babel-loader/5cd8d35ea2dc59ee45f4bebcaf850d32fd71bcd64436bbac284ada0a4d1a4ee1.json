{"ast":null,"code":"import{useState}from\"react\";import\"../CSS/LoginCss.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){const[loginUsers,setLoginuUsers]=useState({});const[loginDetail,setLoginDetail]=useState({department:\"\",userid:\"\",password:\"\"});const[error,setError]=useState(\"\");const handleSubmit=async e=>{e.preventDefault();try{const response=await fetch(\"http://localhost:5000/api/employees/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({department:loginDetail.department,// Include department\nemployeeId:loginDetail.userid,password:loginDetail.password})});const data=await response.json();if(!response.ok){throw new Error(data.error||\"Login failed\");}setLoginuUsers(data.employee);setLoginDetail({department:\"\",userid:\"\",password:\"\"});alert(\"Login successful!\");}catch(error){setError(error.message);}};const hanldeChange=e=>{setLoginDetail(oldDetail=>({...oldDetail,[e.target.name]:e.target.value}));};return/*#__PURE__*/_jsxs(\"div\",{className:\"Login-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Login-left-side\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"Login-right-side\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Login-top-logo\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/images/Logo 1.png\",alt:\"Masttec Moulds\"})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Log in\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"Login-error\",children:error}),\" \",/*#__PURE__*/_jsx(\"div\",{className:\"forme-centeore\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"form-word\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Login-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"department\",children:\"Department\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"department\",onChange:hanldeChange,id:\"department\",value:loginDetail.department,children:[/*#__PURE__*/_jsx(\"option\",{disabled:true}),/*#__PURE__*/_jsx(\"option\",{children:\"Accounts\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Production\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Maintenance\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Login-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"userid\",children:\"Employee Id\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"userid\",name:\"userid\",onChange:hanldeChange,value:loginDetail.userid})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Login-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"Login-password-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",onChange:hanldeChange,value:loginDetail.password}),/*#__PURE__*/_jsxs(\"span\",{className:\"Login-password-toggle\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-eye\"}),/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-eye-slash\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Login-remember-me\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"remember\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"remember\",children:\"Remember me\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"Login-forgot-password\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"Forgot Password?\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"Login-login-button\",children:\"Log in\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"Login-create-account\",children:[\"Not Registered yet? \",/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:\"Create an account\"})]})]})]});}","map":{"version":3,"names":["useState","jsx","_jsx","jsxs","_jsxs","Login","loginUsers","setLoginuUsers","loginDetail","setLoginDetail","department","userid","password","error","setError","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","employeeId","data","json","ok","Error","employee","alert","message","hanldeChange","oldDetail","target","name","value","className","children","src","alt","onSubmit","htmlFor","onChange","id","disabled","type","href"],"sources":["D:/asherDn/masttec/masttecWorking/frontend/src/Components/6.Login.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport \"../CSS/LoginCss.css\";\r\n\r\nexport default function Login() {\r\n  const [loginUsers, setLoginuUsers] = useState({});\r\n  const [loginDetail, setLoginDetail] = useState({\r\n    department: \"\",\r\n    userid: \"\",\r\n    password: \"\",\r\n  });\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await fetch(\r\n        \"http://localhost:5000/api/employees/login\",\r\n        {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({\r\n            department: loginDetail.department, // Include department\r\n            employeeId: loginDetail.userid,\r\n            password: loginDetail.password,\r\n          }),\r\n        }\r\n      );\r\n\r\n      const data = await response.json();\r\n      if (!response.ok) {\r\n        throw new Error(data.error || \"Login failed\");\r\n      }\r\n\r\n      setLoginuUsers(data.employee);\r\n      setLoginDetail({\r\n        department: \"\",\r\n        userid: \"\",\r\n        password: \"\",\r\n      });\r\n      alert(\"Login successful!\");\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  const hanldeChange = (e) => {\r\n    setLoginDetail((oldDetail) => ({\r\n      ...oldDetail,\r\n      [e.target.name]: e.target.value,\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"Login-container\">\r\n      <div className=\"Login-left-side\"></div>\r\n      <div className=\"Login-right-side\">\r\n        <div className=\"Login-top-logo\">\r\n          <img src=\"/images/Logo 1.png\" alt=\"Masttec Moulds\" />\r\n        </div>\r\n        <h1>Log in</h1>\r\n        {error && <div className=\"Login-error\">{error}</div>}{\" \"}\r\n        {/* Display error message */}\r\n        <div className=\"forme-centeore\">\r\n          <form className=\"form-word\" onSubmit={handleSubmit}>\r\n            <div className=\"Login-form-group\">\r\n              <label htmlFor=\"department\">Department</label>\r\n              <select\r\n                name=\"department\"\r\n                onChange={hanldeChange}\r\n                id=\"department\"\r\n                value={loginDetail.department}\r\n              >\r\n                <option disabled></option>\r\n                <option>Accounts</option>\r\n                <option>Production</option>\r\n                <option>Maintenance</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"Login-form-group\">\r\n              <label htmlFor=\"userid\">Employee Id</label>\r\n              <input\r\n                type=\"text\"\r\n                id=\"userid\"\r\n                name=\"userid\"\r\n                onChange={hanldeChange}\r\n                value={loginDetail.userid}\r\n              />\r\n            </div>\r\n            <div className=\"Login-form-group\">\r\n              <label htmlFor=\"password\">Password</label>\r\n              <div className=\"Login-password-input\">\r\n                <input\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  name=\"password\"\r\n                  onChange={hanldeChange}\r\n                  value={loginDetail.password}\r\n                />\r\n                <span className=\"Login-password-toggle\">\r\n                  <i className=\"fa-solid fa-eye\"></i>\r\n                  <i className=\"fa-solid fa-eye-slash\"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className=\"Login-remember-me\">\r\n              <input type=\"checkbox\" id=\"remember\" />\r\n              <label htmlFor=\"remember\">Remember me</label>\r\n            </div>\r\n            <div className=\"Login-forgot-password\">\r\n              <a href=\"#\">Forgot Password?</a>\r\n            </div>\r\n            <button type=\"submit\" className=\"Login-login-button\">\r\n              Log in\r\n            </button>\r\n          </form>\r\n        </div>\r\n        <div className=\"Login-create-account\">\r\n          Not Registered yet? <a href=\"#\">Create an account</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}