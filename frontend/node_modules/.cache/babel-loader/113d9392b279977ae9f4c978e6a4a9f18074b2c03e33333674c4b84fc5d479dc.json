{"ast":null,"code":"var _jsxFileName = \"D:\\\\asherDn\\\\masttec\\\\masttecWorking\\\\frontend\\\\src\\\\Components\\\\3.EmployeeAttendanceList.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport \"../CSS/EmployeeAttendanceListCss.css\";\nimport url from \"./global\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EmployeeAttendanceList() {\n  _s();\n  const [attendanceDetails, setAttendanceDetails] = useState([]); // Updated to an array\n  const [showActualPunchIn, setShowActualPunchIn] = useState(false);\n  const [statusFilter, setStatusFilter] = useState(\"\"); // Moved outside of `fetchEmployees`\n  const [date, setDate] = useState(() => {\n    const today = new Date();\n    return today.toISOString().split(\"T\")[0];\n  });\n  const [editingStatusIndex, setEditingStatusIndex] = useState(null);\n  const [designationFilter, setDesignationFilter] = useState(\"\");\n  const statusOptions = [\"Present\", \"Absent\", \"Late\", \"Sunday\", \"Paid Leave\", \"Up-Paid Leave\", \"Holiday\", \"C-Off\", \"Week-Off\"];\n  const [editingFeedbackIndex, setEditingFeedbackIndex] = useState(null);\n  const [editingPunchOutIndex, setEditingPunchOutIndex] = useState(null);\n  const [designationOptions, setDesignationOptions] = useState([]);\n  const [error, setError] = useState(\"\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const fetchEmployees = async () => {\n    try {\n      // Fetch employee and attendance data\n      const employeeResponse = await axios.get(`${url}/v1/api/employees`);\n      const attendanceResponse = await axios.get(`${url}/v1/api/attendance`);\n\n      // Combine employee and attendance data based on employeeId\n      const combinedData = employeeResponse.data.map(employee => {\n        var _attendanceRecord$rec;\n        const attendanceRecord = attendanceResponse.data.find(attendance => attendance.employeeId === employee.employeeId);\n\n        // Extract only todayâ€™s attendance details if records are available\n        const todayRecord = attendanceRecord === null || attendanceRecord === void 0 ? void 0 : (_attendanceRecord$rec = attendanceRecord.records) === null || _attendanceRecord$rec === void 0 ? void 0 : _attendanceRecord$rec.find(record => record.date.split(\"T\")[0] === date);\n        return {\n          ...employee,\n          attendance: todayRecord || {\n            punchIn: null,\n            punchOut: null,\n            status: \"No Record\"\n          }\n        };\n      });\n      setAttendanceDetails(combinedData);\n    } catch (error) {\n      console.error(\"Error fetching employee data:\", error);\n      setError(\"Error fetching employee data.\");\n      setTimeout(() => setError(\"\"), 5000);\n    }\n  };\n\n  // Fetch employee data when `date` or `statusFilter` changes\n  useEffect(() => {\n    fetchEmployees();\n  }, [date]);\n  useEffect(() => {\n    // Update designation options after attendance details are set\n    const uniqueDesignations = getUniqueDesignations(attendanceDetails);\n    setDesignationOptions(uniqueDesignations);\n  }, [attendanceDetails]);\n  const handleSearchChange = event => {\n    setSearchQuery(event.target.value);\n  };\n  const getUniqueDesignations = employees => {\n    const designations = employees.map(employee => employee.designation);\n    return [...new Set(designations)].filter(designation => designation); // Remove duplicates and filter out empty strings\n  };\n  const filteredEmployees = attendanceDetails.filter(employee => {\n    var _employee$employeeNam, _employee$designation, _employee$attendance, _employee$attendance$, _employee$employeeId, _employee$attendance2;\n    const lowerCaseQuery = searchQuery.toLowerCase();\n    const matchesSearch = ((_employee$employeeNam = employee.employeeName) === null || _employee$employeeNam === void 0 ? void 0 : _employee$employeeNam.toLowerCase().includes(lowerCaseQuery)) || ((_employee$designation = employee.designation) === null || _employee$designation === void 0 ? void 0 : _employee$designation.toLowerCase().includes(lowerCaseQuery)) || ((_employee$attendance = employee.attendance) === null || _employee$attendance === void 0 ? void 0 : (_employee$attendance$ = _employee$attendance.status) === null || _employee$attendance$ === void 0 ? void 0 : _employee$attendance$.toLowerCase().includes(lowerCaseQuery)) || ((_employee$employeeId = employee.employeeId) === null || _employee$employeeId === void 0 ? void 0 : _employee$employeeId.toString().includes(lowerCaseQuery));\n    const matchesStatusFilter = !statusFilter || ((_employee$attendance2 = employee.attendance) === null || _employee$attendance2 === void 0 ? void 0 : _employee$attendance2.status) === statusFilter;\n    const matchesDesignationFilter = !designationFilter || employee.designation === designationFilter;\n    return matchesSearch && matchesStatusFilter && matchesDesignationFilter;\n  });\n  const handleStatusChange = async (index, newStatus) => {\n    try {\n      const updatedAttendanceDetails = [...attendanceDetails];\n      const selectedRecord = updatedAttendanceDetails[index];\n      const employeeId = selectedRecord.employeeId;\n      const date = selectedRecord.attendance.date;\n\n      // Update the status locally\n      updatedAttendanceDetails[index].attendance.status = newStatus;\n      setAttendanceDetails(updatedAttendanceDetails);\n\n      // Make a PUT request to update the status in the backend\n      const response = await axios.put(`${url}/v1/api/attendance`, {\n        employeeId: employeeId,\n        date: date,\n        status: newStatus\n      });\n      console.log(\"Status updated successfully:\", response.data.message);\n    } catch (error) {\n      var _error$response;\n      console.error(\"Error updating status:\", ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n      alert(\"Failed to update attendance status. Please try again.\");\n    }\n  };\n  const handleFeedbackChange = async (index, newFeedback) => {\n    try {\n      const updatedAttendanceDetails = [...attendanceDetails];\n      const selectedRecord = updatedAttendanceDetails[index];\n      const employeeId = selectedRecord.employeeId;\n      const date = selectedRecord.attendance.date;\n\n      // Update the status locally\n      updatedAttendanceDetails[index].attendance.note = newFeedback;\n      setAttendanceDetails(updatedAttendanceDetails);\n\n      // Make a PUT request to update the status in the backend\n      const response = await axios.put(`${url}/v1/api/attendance`, {\n        employeeId: employeeId,\n        date: date,\n        note: newFeedback\n      });\n      console.log(\"Status updated successfully:\", response.data.message);\n    } catch (error) {\n      var _error$response2;\n      console.error(\"Error updating status:\", ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || error.message);\n      alert(\"Failed to update attendance status. Please try again.\");\n    }\n  };\n  const handlePunchOutTimeChange = async (index, newTime) => {\n    try {\n      const updatedAttendanceDetails = [...attendanceDetails];\n      const selectedRecord = updatedAttendanceDetails[index];\n      const employeeId = selectedRecord.employeeId;\n      const date = selectedRecord.attendance.date;\n\n      // Extract current punchOut date\n      const currentPunchOutDate = new Date(selectedRecord.attendance.punchOut || new Date());\n\n      // Split the new input time into hours and minutes\n      const [newHours, newMinutes] = newTime.split(\":\");\n\n      // Set the new time\n      currentPunchOutDate.setHours(newHours, newMinutes, 0, 0);\n\n      // Subtract 5 hours and 30 minutes from the new time input\n      currentPunchOutDate.setHours(currentPunchOutDate.getHours() - 5);\n      currentPunchOutDate.setMinutes(currentPunchOutDate.getMinutes() - 30);\n\n      // Update the time locally\n      updatedAttendanceDetails[index].attendance.punchOut = currentPunchOutDate;\n      setAttendanceDetails(updatedAttendanceDetails);\n\n      // Make a PUT request to update the punchOut time in the backend\n      const response = await axios.put(`${url}/v1/api/attendance`, {\n        employeeId: employeeId,\n        date: date,\n        punchOut: currentPunchOutDate\n      });\n      console.log(\"Punch-out time updated successfully:\", response.data.message);\n    } catch (error) {\n      var _error$response3;\n      console.error(\"Error updating punch-out time:\", ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data) || error.message);\n      alert(\"Failed to update punch-out time. Please try again.\");\n    }\n  };\n  const handlePrint = () => {\n    window.print();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"printable-section\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"widthhall\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alldisplay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"100%\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"marginbox\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"displayflexon\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"wwxxeeererererererr\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"trtrzzzdndhdfdffdf\",\n                    children: \"Employee Details\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"poooosllslslsll\",\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"inputddidjdj\",\n                      type: \"date\",\n                      value: date,\n                      onChange: e => setDate(e.target.value)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 219,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: /*#__PURE__*/_jsxDEV(\"form\", {\n                        className: \"nhhhiwoop3p2o3po23p\",\n                        children: /*#__PURE__*/_jsxDEV(\"input\", {\n                          value: searchQuery,\n                          onChange: handleSearchChange,\n                          className: \"aewewewelp2i3o23oi23oi32323\",\n                          type: \"text\",\n                          placeholder: \"Employee\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 228,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 227,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 226,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"hgshareeebuteyreuuruer\",\n                        onClick: () => handlePrint(),\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"zvzgggw2323232\",\n                          children: \"Print\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 242,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 238,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 237,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"toprowclassName12\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"secondtoprowhe\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"headcontdisplay\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"allheadsnoh\",\n                        children: \"ID No\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 250,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"allheadsponumh\",\n                        children: \"Employee Name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 251,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"allheadsjobnameh\",\n                        children: /*#__PURE__*/_jsxDEV(\"select\", {\n                          className: \"optiondiv\",\n                          value: designationFilter,\n                          onChange: e => setDesignationFilter(e.target.value),\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"\",\n                            children: \"Designation\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 260,\n                            columnNumber: 29\n                          }, this), designationOptions.map(designation => /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: designation,\n                            children: designation\n                          }, designation, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 262,\n                            columnNumber: 31\n                          }, this))]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 253,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 252,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"allheadsclienth\",\n                        children: [showActualPunchIn ? \"Actual Punch In\" : \"Punch In\", /*#__PURE__*/_jsxDEV(\"span\", {\n                          onClick: () => setShowActualPunchIn(prev => !prev),\n                          style: {\n                            cursor: \"pointer\",\n                            color: \"#007bff\"\n                          },\n                          children: \"(switch)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 271,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 269,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"allheadsqtyh\",\n                        children: \"Punch Out\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 281,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"allheadscolorh\",\n                        children: /*#__PURE__*/_jsxDEV(\"select\", {\n                          className: \"optiondiv\",\n                          value: statusFilter,\n                          onChange: e => setStatusFilter(e.target.value),\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"\",\n                            children: \"Status\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 288,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"Present\",\n                            children: \"Present\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 289,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"Absent\",\n                            children: \"Absent\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 290,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"Late\",\n                            children: \"Late\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 291,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"Sunday\",\n                            children: \"Sunday\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 292,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"Paid Leave\",\n                            children: \"Paid Leave\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 293,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"Un-Paid Leave\",\n                            children: \"Un-Paid Leave\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 294,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"Holiday\",\n                            children: \"Holiday\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 295,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"C-Off\",\n                            children: \"C-Off\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 296,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: \"Week-Off\",\n                            children: \"Week-Off\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 297,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 283,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 282,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"allheadsdateh\",\n                        children: \"Feedback\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 301,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 249,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"lppooosososso11\",\n                  children: filteredEmployees.map((employee, index) => {\n                    var _employee$attendance3, _employee$attendance4, _employee$attendance5, _employee$attendance6, _employee$attendance7, _employee$attendance8, _employee$attendance9;\n                    return /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"secondtoprow\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"headcontdisplay\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"allheadsno\",\n                          children: index + 1\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 309,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"allheadsponum\",\n                          children: employee.employeeName\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 310,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"allheadsjobname\",\n                          children: employee.designation\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 313,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"allheadsclient\",\n                          children: (_employee$attendance3 = employee.attendance) !== null && _employee$attendance3 !== void 0 && _employee$attendance3.punchIn ? showActualPunchIn ? new Date(employee.attendance.punchIn).toLocaleTimeString(\"en-IN\", {\n                            hour: \"2-digit\",\n                            minute: \"2-digit\",\n                            hour12: true\n                          }) : new Date(new Date(employee.attendance.punchIn).getTime() + 5.5 * 60 * 60 * 1000).toLocaleTimeString(\"en-IN\", {\n                            hour: \"2-digit\",\n                            minute: \"2-digit\",\n                            hour12: true\n                          }) : \"-\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 316,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"allheadsqty\",\n                          children: editingPunchOutIndex === index ? /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"time\",\n                            className: \"punchout-input\",\n                            value: (_employee$attendance4 = employee.attendance) !== null && _employee$attendance4 !== void 0 && _employee$attendance4.punchOut ? new Date(employee.attendance.punchOut).toLocaleTimeString(\"en-GB\", {\n                              hour: \"2-digit\",\n                              minute: \"2-digit\"\n                            }) : \"\",\n                            onChange: e => handlePunchOutTimeChange(index, e.target.value),\n                            onBlur: () => setEditingPunchOutIndex(null) // Close input on blur\n                            ,\n                            autoFocus: true\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 340,\n                            columnNumber: 31\n                          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                            onClick: () => setEditingPunchOutIndex(index),\n                            style: {\n                              cursor: \"pointer\"\n                            },\n                            children: (_employee$attendance5 = employee.attendance) !== null && _employee$attendance5 !== void 0 && _employee$attendance5.punchOut ? new Date(new Date(employee.attendance.punchOut).getTime() + 5.5 * 60 * 60 * 1000).toLocaleTimeString(\"en-IN\", {\n                              hour: \"2-digit\",\n                              minute: \"2-digit\",\n                              hour12: true\n                            }) : \"-\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 363,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 338,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"allheadscolorg\",\n                          children: editingStatusIndex === index ? /*#__PURE__*/_jsxDEV(\"select\", {\n                            className: \"optiondiv\",\n                            value: (_employee$attendance6 = employee.attendance) === null || _employee$attendance6 === void 0 ? void 0 : _employee$attendance6.status,\n                            onChange: e => handleStatusChange(index, e.target.value),\n                            onBlur: () => setEditingStatusIndex(null) // To close dropdown on blur\n                            ,\n                            autoFocus: true,\n                            children: statusOptions.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n                              value: option,\n                              children: option\n                            }, option, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 395,\n                              columnNumber: 35\n                            }, this))\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 385,\n                            columnNumber: 31\n                          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                            onClick: () => setEditingStatusIndex(index),\n                            style: {\n                              cursor: \"pointer\"\n                            },\n                            children: ((_employee$attendance7 = employee.attendance) === null || _employee$attendance7 === void 0 ? void 0 : _employee$attendance7.status) || \"No Record\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 401,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 383,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"allheadsdate\",\n                          children: editingFeedbackIndex === index ? /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"text\",\n                            className: \"feedback-input\",\n                            value: ((_employee$attendance8 = employee.attendance) === null || _employee$attendance8 === void 0 ? void 0 : _employee$attendance8.note) || \"\",\n                            onChange: e => handleFeedbackChange(index, e.target.value),\n                            onBlur: () => setEditingFeedbackIndex(null) // Close input on blur\n                            ,\n                            autoFocus: true\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 411,\n                            columnNumber: 31\n                          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                            onClick: () => setEditingFeedbackIndex(index),\n                            style: {\n                              cursor: \"pointer\"\n                            },\n                            children: ((_employee$attendance9 = employee.attendance) === null || _employee$attendance9 === void 0 ? void 0 : _employee$attendance9.note) || \"-\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 422,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 409,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 308,\n                        columnNumber: 25\n                      }, this)\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 307,\n                      columnNumber: 23\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 209,\n    columnNumber: 5\n  }, this);\n}\n_s(EmployeeAttendanceList, \"k4+aOeTrh0SRgAyQZITmG/6gVFc=\");\n_c = EmployeeAttendanceList;\nvar _c;\n$RefreshReg$(_c, \"EmployeeAttendanceList\");","map":{"version":3,"names":["React","useEffect","useState","url","axios","jsxDEV","_jsxDEV","EmployeeAttendanceList","_s","attendanceDetails","setAttendanceDetails","showActualPunchIn","setShowActualPunchIn","statusFilter","setStatusFilter","date","setDate","today","Date","toISOString","split","editingStatusIndex","setEditingStatusIndex","designationFilter","setDesignationFilter","statusOptions","editingFeedbackIndex","setEditingFeedbackIndex","editingPunchOutIndex","setEditingPunchOutIndex","designationOptions","setDesignationOptions","error","setError","searchQuery","setSearchQuery","fetchEmployees","employeeResponse","get","attendanceResponse","combinedData","data","map","employee","_attendanceRecord$rec","attendanceRecord","find","attendance","employeeId","todayRecord","records","record","punchIn","punchOut","status","console","setTimeout","uniqueDesignations","getUniqueDesignations","handleSearchChange","event","target","value","employees","designations","designation","Set","filter","filteredEmployees","_employee$employeeNam","_employee$designation","_employee$attendance","_employee$attendance$","_employee$employeeId","_employee$attendance2","lowerCaseQuery","toLowerCase","matchesSearch","employeeName","includes","toString","matchesStatusFilter","matchesDesignationFilter","handleStatusChange","index","newStatus","updatedAttendanceDetails","selectedRecord","response","put","log","message","_error$response","alert","handleFeedbackChange","newFeedback","note","_error$response2","handlePunchOutTimeChange","newTime","currentPunchOutDate","newHours","newMinutes","setHours","getHours","setMinutes","getMinutes","_error$response3","handlePrint","window","print","className","children","style","width","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","e","placeholder","onClick","prev","cursor","color","_employee$attendance3","_employee$attendance4","_employee$attendance5","_employee$attendance6","_employee$attendance7","_employee$attendance8","_employee$attendance9","toLocaleTimeString","hour","minute","hour12","getTime","onBlur","autoFocus","option","_c","$RefreshReg$"],"sources":["D:/asherDn/masttec/masttecWorking/frontend/src/Components/3.EmployeeAttendanceList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"../CSS/EmployeeAttendanceListCss.css\";\r\nimport url from \"./global\";\r\nimport axios from \"axios\";\r\n\r\nexport default function EmployeeAttendanceList() {\r\n  const [attendanceDetails, setAttendanceDetails] = useState([]); // Updated to an array\r\n  const [showActualPunchIn, setShowActualPunchIn] = useState(false);\r\n  const [statusFilter, setStatusFilter] = useState(\"\"); // Moved outside of `fetchEmployees`\r\n  const [date, setDate] = useState(() => {\r\n    const today = new Date();\r\n    return today.toISOString().split(\"T\")[0];\r\n  });\r\n  const [editingStatusIndex, setEditingStatusIndex] = useState(null);\r\n  const [designationFilter, setDesignationFilter] = useState(\"\");\r\n\r\n  const statusOptions = [\r\n    \"Present\",\r\n    \"Absent\",\r\n    \"Late\",\r\n    \"Sunday\",\r\n    \"Paid Leave\",\r\n    \"Up-Paid Leave\",\r\n    \"Holiday\",\r\n    \"C-Off\",\r\n    \"Week-Off\",\r\n  ];\r\n  const [editingFeedbackIndex, setEditingFeedbackIndex] = useState(null);\r\n  const [editingPunchOutIndex, setEditingPunchOutIndex] = useState(null);\r\n  const [designationOptions, setDesignationOptions] = useState([]);\r\n\r\n  const [error, setError] = useState(\"\");\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n\r\n  const fetchEmployees = async () => {\r\n    try {\r\n      // Fetch employee and attendance data\r\n      const employeeResponse = await axios.get(`${url}/v1/api/employees`);\r\n      const attendanceResponse = await axios.get(`${url}/v1/api/attendance`);\r\n\r\n      // Combine employee and attendance data based on employeeId\r\n      const combinedData = employeeResponse.data.map((employee) => {\r\n        const attendanceRecord = attendanceResponse.data.find(\r\n          (attendance) => attendance.employeeId === employee.employeeId\r\n        );\r\n\r\n        // Extract only todayâ€™s attendance details if records are available\r\n        const todayRecord = attendanceRecord?.records?.find(\r\n          (record) => record.date.split(\"T\")[0] === date\r\n        );\r\n\r\n        return {\r\n          ...employee,\r\n          attendance: todayRecord || {\r\n            punchIn: null,\r\n            punchOut: null,\r\n            status: \"No Record\",\r\n          },\r\n        };\r\n      });\r\n\r\n      setAttendanceDetails(combinedData);\r\n    } catch (error) {\r\n      console.error(\"Error fetching employee data:\", error);\r\n      setError(\"Error fetching employee data.\");\r\n      setTimeout(() => setError(\"\"), 5000);\r\n    }\r\n  };\r\n\r\n  // Fetch employee data when `date` or `statusFilter` changes\r\n  useEffect(() => {\r\n    fetchEmployees();\r\n  }, [date]);\r\n  useEffect(() => {\r\n    // Update designation options after attendance details are set\r\n    const uniqueDesignations = getUniqueDesignations(attendanceDetails);\r\n    setDesignationOptions(uniqueDesignations);\r\n  }, [attendanceDetails]);\r\n  const handleSearchChange = (event) => {\r\n    setSearchQuery(event.target.value);\r\n  };\r\n  const getUniqueDesignations = (employees) => {\r\n    const designations = employees.map((employee) => employee.designation);\r\n    return [...new Set(designations)].filter((designation) => designation); // Remove duplicates and filter out empty strings\r\n  };\r\n\r\n  const filteredEmployees = attendanceDetails.filter((employee) => {\r\n    const lowerCaseQuery = searchQuery.toLowerCase();\r\n    const matchesSearch =\r\n      employee.employeeName?.toLowerCase().includes(lowerCaseQuery) ||\r\n      employee.designation?.toLowerCase().includes(lowerCaseQuery) ||\r\n      employee.attendance?.status?.toLowerCase().includes(lowerCaseQuery) ||\r\n      employee.employeeId?.toString().includes(lowerCaseQuery);\r\n\r\n    const matchesStatusFilter =\r\n      !statusFilter || employee.attendance?.status === statusFilter;\r\n\r\n    const matchesDesignationFilter =\r\n      !designationFilter || employee.designation === designationFilter;\r\n\r\n    return matchesSearch && matchesStatusFilter && matchesDesignationFilter;\r\n  });\r\n\r\n  const handleStatusChange = async (index, newStatus) => {\r\n    try {\r\n      const updatedAttendanceDetails = [...attendanceDetails];\r\n      const selectedRecord = updatedAttendanceDetails[index];\r\n      const employeeId = selectedRecord.employeeId;\r\n      const date = selectedRecord.attendance.date;\r\n\r\n      // Update the status locally\r\n      updatedAttendanceDetails[index].attendance.status = newStatus;\r\n      setAttendanceDetails(updatedAttendanceDetails);\r\n\r\n      // Make a PUT request to update the status in the backend\r\n      const response = await axios.put(`${url}/v1/api/attendance`, {\r\n        employeeId: employeeId,\r\n        date: date,\r\n        status: newStatus,\r\n      });\r\n\r\n      console.log(\"Status updated successfully:\", response.data.message);\r\n    } catch (error) {\r\n      console.error(\r\n        \"Error updating status:\",\r\n        error.response?.data || error.message\r\n      );\r\n      alert(\"Failed to update attendance status. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const handleFeedbackChange = async (index, newFeedback) => {\r\n    try {\r\n      const updatedAttendanceDetails = [...attendanceDetails];\r\n      const selectedRecord = updatedAttendanceDetails[index];\r\n      const employeeId = selectedRecord.employeeId;\r\n      const date = selectedRecord.attendance.date;\r\n\r\n      // Update the status locally\r\n      updatedAttendanceDetails[index].attendance.note = newFeedback;\r\n      setAttendanceDetails(updatedAttendanceDetails);\r\n\r\n      // Make a PUT request to update the status in the backend\r\n      const response = await axios.put(`${url}/v1/api/attendance`, {\r\n        employeeId: employeeId,\r\n        date: date,\r\n        note: newFeedback,\r\n      });\r\n\r\n      console.log(\"Status updated successfully:\", response.data.message);\r\n    } catch (error) {\r\n      console.error(\r\n        \"Error updating status:\",\r\n        error.response?.data || error.message\r\n      );\r\n      alert(\"Failed to update attendance status. Please try again.\");\r\n    }\r\n  };\r\n  const handlePunchOutTimeChange = async (index, newTime) => {\r\n    try {\r\n      const updatedAttendanceDetails = [...attendanceDetails];\r\n      const selectedRecord = updatedAttendanceDetails[index];\r\n      const employeeId = selectedRecord.employeeId;\r\n      const date = selectedRecord.attendance.date;\r\n\r\n      // Extract current punchOut date\r\n      const currentPunchOutDate = new Date(\r\n        selectedRecord.attendance.punchOut || new Date()\r\n      );\r\n\r\n      // Split the new input time into hours and minutes\r\n      const [newHours, newMinutes] = newTime.split(\":\");\r\n\r\n      // Set the new time\r\n      currentPunchOutDate.setHours(newHours, newMinutes, 0, 0);\r\n\r\n      // Subtract 5 hours and 30 minutes from the new time input\r\n      currentPunchOutDate.setHours(currentPunchOutDate.getHours() - 5);\r\n      currentPunchOutDate.setMinutes(currentPunchOutDate.getMinutes() - 30);\r\n\r\n      // Update the time locally\r\n      updatedAttendanceDetails[index].attendance.punchOut = currentPunchOutDate;\r\n      setAttendanceDetails(updatedAttendanceDetails);\r\n\r\n      // Make a PUT request to update the punchOut time in the backend\r\n      const response = await axios.put(`${url}/v1/api/attendance`, {\r\n        employeeId: employeeId,\r\n        date: date,\r\n        punchOut: currentPunchOutDate,\r\n      });\r\n\r\n      console.log(\r\n        \"Punch-out time updated successfully:\",\r\n        response.data.message\r\n      );\r\n    } catch (error) {\r\n      console.error(\r\n        \"Error updating punch-out time:\",\r\n        error.response?.data || error.message\r\n      );\r\n      alert(\"Failed to update punch-out time. Please try again.\");\r\n    }\r\n  };\r\n  const handlePrint = () => {\r\n    window.print();\r\n  };\r\n\r\n  return (\r\n    <div className=\"printable-section\">\r\n      <div className=\"widthhall\">\r\n        <div className=\"alldisplay\">\r\n          <div style={{ width: \"100%\" }}>\r\n            <div className=\"marginbox\">\r\n              <div className=\"displayflexon\">\r\n                <div>\r\n                  <div className=\"wwxxeeererererererr\">\r\n                    <div className=\"trtrzzzdndhdfdffdf\">Employee Details</div>\r\n                    <div className=\"poooosllslslsll\">\r\n                      <input\r\n                        className=\"inputddidjdj\"\r\n                        type=\"date\"\r\n                        value={date}\r\n                        onChange={(e) => setDate(e.target.value)}\r\n                      />\r\n\r\n                      <div>\r\n                        <form className=\"nhhhiwoop3p2o3po23p\">\r\n                          <input\r\n                            value={searchQuery}\r\n                            onChange={handleSearchChange}\r\n                            className=\"aewewewelp2i3o23oi23oi32323\"\r\n                            type=\"text\"\r\n                            placeholder=\"Employee\"\r\n                          />\r\n                        </form>\r\n                      </div>\r\n                      <div>\r\n                        <button\r\n                          className=\"hgshareeebuteyreuuruer\"\r\n                          onClick={() => handlePrint()}\r\n                        >\r\n                          <div className=\"zvzgggw2323232\">Print</div>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"toprowclassName12\">\r\n                    <div className=\"secondtoprowhe\">\r\n                      <div className=\"headcontdisplay\">\r\n                        <div className=\"allheadsnoh\">ID No</div>\r\n                        <div className=\"allheadsponumh\">Employee Name</div>\r\n                        <div className=\"allheadsjobnameh\">\r\n                          <select\r\n                            className=\"optiondiv\"\r\n                            value={designationFilter}\r\n                            onChange={(e) =>\r\n                              setDesignationFilter(e.target.value)\r\n                            }\r\n                          >\r\n                            <option value=\"\">Designation</option>\r\n                            {designationOptions.map((designation) => (\r\n                              <option key={designation} value={designation}>\r\n                                {designation}\r\n                              </option>\r\n                            ))}\r\n                          </select>\r\n                        </div>\r\n\r\n                        <div className=\"allheadsclienth\">\r\n                          {showActualPunchIn ? \"Actual Punch In\" : \"Punch In\"}\r\n                          <span\r\n                            onClick={() =>\r\n                              setShowActualPunchIn((prev) => !prev)\r\n                            }\r\n                            style={{ cursor: \"pointer\", color: \"#007bff\" }}\r\n                          >\r\n                            (switch)\r\n                          </span>\r\n                        </div>\r\n\r\n                        <div className=\"allheadsqtyh\">Punch Out</div>\r\n                        <div className=\"allheadscolorh\">\r\n                          <select\r\n                            className=\"optiondiv\"\r\n                            value={statusFilter}\r\n                            onChange={(e) => setStatusFilter(e.target.value)}\r\n                          >\r\n                            <option value=\"\">Status</option>\r\n                            <option value=\"Present\">Present</option>\r\n                            <option value=\"Absent\">Absent</option>\r\n                            <option value=\"Late\">Late</option>\r\n                            <option value=\"Sunday\">Sunday</option>\r\n                            <option value=\"Paid Leave\">Paid Leave</option>\r\n                            <option value=\"Un-Paid Leave\">Un-Paid Leave</option>\r\n                            <option value=\"Holiday\">Holiday</option>\r\n                            <option value=\"C-Off\">C-Off</option>\r\n                            <option value=\"Week-Off\">Week-Off</option>\r\n                          </select>\r\n                        </div>\r\n\r\n                        <div className=\"allheadsdateh\">Feedback</div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"lppooosososso11\">\r\n                    {filteredEmployees.map((employee, index) => (\r\n                      <div className=\"secondtoprow\" key={index}>\r\n                        <div className=\"headcontdisplay\">\r\n                          <div className=\"allheadsno\">{index + 1}</div>\r\n                          <div className=\"allheadsponum\">\r\n                            {employee.employeeName}\r\n                          </div>\r\n                          <div className=\"allheadsjobname\">\r\n                            {employee.designation}\r\n                          </div>\r\n                          <div className=\"allheadsclient\">\r\n                            {employee.attendance?.punchIn\r\n                              ? showActualPunchIn\r\n                                ? new Date(\r\n                                    employee.attendance.punchIn\r\n                                  ).toLocaleTimeString(\"en-IN\", {\r\n                                    hour: \"2-digit\",\r\n                                    minute: \"2-digit\",\r\n                                    hour12: true,\r\n                                  })\r\n                                : new Date(\r\n                                    new Date(\r\n                                      employee.attendance.punchIn\r\n                                    ).getTime() +\r\n                                      5.5 * 60 * 60 * 1000\r\n                                  ).toLocaleTimeString(\"en-IN\", {\r\n                                    hour: \"2-digit\",\r\n                                    minute: \"2-digit\",\r\n                                    hour12: true,\r\n                                  })\r\n                              : \"-\"}\r\n                          </div>\r\n                          <div className=\"allheadsqty\">\r\n                            {editingPunchOutIndex === index ? (\r\n                              <input\r\n                                type=\"time\"\r\n                                className=\"punchout-input\"\r\n                                value={\r\n                                  employee.attendance?.punchOut\r\n                                    ? new Date(\r\n                                        employee.attendance.punchOut\r\n                                      ).toLocaleTimeString(\"en-GB\", {\r\n                                        hour: \"2-digit\",\r\n                                        minute: \"2-digit\",\r\n                                      })\r\n                                    : \"\"\r\n                                }\r\n                                onChange={(e) =>\r\n                                  handlePunchOutTimeChange(\r\n                                    index,\r\n                                    e.target.value\r\n                                  )\r\n                                }\r\n                                onBlur={() => setEditingPunchOutIndex(null)} // Close input on blur\r\n                                autoFocus\r\n                              />\r\n                            ) : (\r\n                              <span\r\n                                onClick={() => setEditingPunchOutIndex(index)}\r\n                                style={{ cursor: \"pointer\" }}\r\n                              >\r\n                                {employee.attendance?.punchOut\r\n                                  ? new Date(\r\n                                      new Date(\r\n                                        employee.attendance.punchOut\r\n                                      ).getTime() +\r\n                                        5.5 * 60 * 60 * 1000\r\n                                    ).toLocaleTimeString(\"en-IN\", {\r\n                                      hour: \"2-digit\",\r\n                                      minute: \"2-digit\",\r\n                                      hour12: true,\r\n                                    })\r\n                                  : \"-\"}\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n\r\n                          <div className=\"allheadscolorg\">\r\n                            {editingStatusIndex === index ? (\r\n                              <select\r\n                                className=\"optiondiv\"\r\n                                value={employee.attendance?.status}\r\n                                onChange={(e) =>\r\n                                  handleStatusChange(index, e.target.value)\r\n                                }\r\n                                onBlur={() => setEditingStatusIndex(null)} // To close dropdown on blur\r\n                                autoFocus\r\n                              >\r\n                                {statusOptions.map((option) => (\r\n                                  <option key={option} value={option}>\r\n                                    {option}\r\n                                  </option>\r\n                                ))}\r\n                              </select>\r\n                            ) : (\r\n                              <span\r\n                                onClick={() => setEditingStatusIndex(index)}\r\n                                style={{ cursor: \"pointer\" }}\r\n                              >\r\n                                {employee.attendance?.status || \"No Record\"}\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n                          <div className=\"allheadsdate\">\r\n                            {editingFeedbackIndex === index ? (\r\n                              <input\r\n                                type=\"text\"\r\n                                className=\"feedback-input\"\r\n                                value={employee.attendance?.note || \"\"}\r\n                                onChange={(e) =>\r\n                                  handleFeedbackChange(index, e.target.value)\r\n                                }\r\n                                onBlur={() => setEditingFeedbackIndex(null)} // Close input on blur\r\n                                autoFocus\r\n                              />\r\n                            ) : (\r\n                              <span\r\n                                onClick={() => setEditingFeedbackIndex(index)}\r\n                                style={{ cursor: \"pointer\" }}\r\n                              >\r\n                                {employee.attendance?.note || \"-\"}\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}