{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"../CSS/PayrollCSS.css\";import url from\"./global\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function PayrollPage(){const[employee,setEmployee]=useState([]);const[attendanceData,setAttendanceData]=useState([]);const[error,setError]=useState(\"\");const[isLoading,setIsLoading]=useState(false);const[selectedMonth,setSelectedMonth]=useState(\"\");const[selectedYear,setSelectedYear]=useState(new Date().getFullYear());// Initialize with current year\nconst[holidayList,setHolidayList]=useState([]);const[searchQuery,setSearchQuery]=useState(\"\");const handleMonth=async e=>{setSelectedMonth(e.target.value);};const searchfilter=async e=>{e.preventDefault();if(searchQuery){setEmployee(prevState=>prevState.filter(emp=>emp.employeeName.toLowerCase().includes(searchQuery.toLowerCase())||emp.employeeId.toString().includes(searchQuery)));}else{setEmployee(employee);}};const handleYearChange=async e=>{setSelectedYear(e.target.value);};const handleMonthChange=async event=>{const selectedMonth=parseInt(event.target.value);// Get the selected month (1-12)\nconst currentYear=new Date().getFullYear();// Get the current year\nconst filteredData=filterRecordsByMonth(attendanceData,currentYear,selectedMonth);// Fetch employee data and then set filtered attendance\nfetchEmployee(filteredData);// Directly use filteredData without awaiting\n};const filterRecordsByMonth=React.useCallback((data,year,month)=>{return data.map(_ref=>{let{employeeId,records}=_ref;return{employeeId,records:records.filter(record=>{const recordDate=new Date(record.date);return recordDate.getFullYear()===year&&recordDate.getMonth()+1===month;})};}).filter(_ref2=>{let{records}=_ref2;return records.length>0;});// Only include employees with records\n},[]);const fetchAttendance=async()=>{setIsLoading(true);try{const response=await axios.get(`${url}/v1/api/attendance`);setAttendanceData(response.data);}catch(error){handleError(\"Error fetching attendance data.\");}finally{setIsLoading(false);}};const fetchHolidays=async()=>{setIsLoading(true);try{const response=await axios.get(`${url}/v1/api/attendance`);setAttendanceData(response.data);}catch(error){handleError(\"Error fetching attendance data.\");}finally{setIsLoading(false);}};const fetchEmployee=async filteredAttendance=>{try{const empResponse=await axios.get(`${url}/v1/api/employees`);const employeeData=empResponse.data;const totalOvertimeHours={};// Initialize total overtime storage\nconst mappedEmployeeData=employeeData.map(emp=>{const attendanceRecord=filteredAttendance.find(att=>att.employeeId===emp.employeeId);const presentDays=attendanceRecord?attendanceRecord.records.filter(rec=>rec.status===\"Present\").length:0;const absentDays=attendanceRecord?attendanceRecord.records.filter(rec=>rec.status===\"Absent\").length:0;const unpaidLeave=attendanceRecord?attendanceRecord.records.filter(rec=>rec.status===\"Up-Paid Leave\").length:0;const salaryPerHr=Math.round(emp.salary/(30*8))||0;// Hourly rate calculation\nconst basicSalary=Math.round(salaryPerHr*presentDays*8)/2||0;// Adjusted for present days\nconst houseRent=Math.round(salaryPerHr*presentDays*8)/4||0;// Adjusted for present days\nlet totalOT1Minutes=0;// Overtime for Present status\nlet totalOT2Minutes=0;// Overtime for Sunday/Holiday status\n// Calculate overtime from attendance records\nattendanceRecord===null||attendanceRecord===void 0?void 0:attendanceRecord.records.forEach(record=>{const punchIn=new Date(record.punchIn);const punchOut=new Date(record.punchOut);if(punchIn&&punchOut&&punchOut>punchIn){const diffInMinutes=Math.floor((punchOut-punchIn)/(1000*60));const excessMinutes=Math.max(0,diffInMinutes-8*60);// Check for overtime\n// Assign overtime to the correct category based on the status\nif(record.status===\"Present\"){totalOT1Minutes+=excessMinutes;// OT1 for Present\n}else if(record.status===\"Sunday\"||// Check if it's Sunday\nrecord.date.includes(holidayList)// Or a holiday\n){totalOT2Minutes+=excessMinutes;// OT2 for Sunday/Holiday\n}}});// Convert overtime minutes to hours and minutes\nconst totalOT1Hours=Math.floor(totalOT1Minutes/60);const totalOT1RemainderMinutes=totalOT1Minutes%60;const totalOT2Hours=Math.floor(totalOT2Minutes/60);const totalOT2RemainderMinutes=totalOT2Minutes%60;// Store the overtime hours for both OT1 and OT2\ntotalOvertimeHours[emp.employeeId]={OT1:{hours:totalOT1Hours,minutes:totalOT1RemainderMinutes},OT2:{hours:totalOT2Hours,minutes:totalOT2RemainderMinutes}};// Convert OT1 and OT2 to decimal hours\nconst ot1Decimal=totalOT1Hours+totalOT1RemainderMinutes/60;const ot2Decimal=totalOT2Hours+totalOT2RemainderMinutes/60;// Calculate OT1 and OT2 amounts with the respective multipliers\nconst ot1Amount=Math.round(ot1Decimal*salaryPerHr*1.25);// OT1 at 1.25x\nconst ot2Amount=Math.round(ot2Decimal*salaryPerHr*1.75);// OT2 at 1.75x\n// Calculate total salary and payments (automatically interlinked)\nconst empSalary=basicSalary+houseRent+ot1Amount+ot2Amount-Number(emp.epf)-Number(emp.esic);const payOn5th=basicSalary+houseRent-Number(emp.epf)-Number(emp.esic);const payOn20th=ot1Amount+ot2Amount;const productionLossAmount=unpaidLeave*salaryPerHr*8;return{employeeName:emp.employeeName||\"\",employeePicture:emp.employeePicture||\"\",employeeDesignation:emp.designation||\"\",employeeEmail:emp.mailId||\"\",employeeDepartment:emp.department||\"\",employeeId:emp.employeeId||\"\",employeeMobileNumber:emp.mobileNumber||\"\",employeeAadhaarNo:emp.aadhaarNo||\"\",employeePANNumber:emp.PANNumber||\"\",employeeESICId:emp.esicId||\"\",employeeEPFId:emp.epfId||\"\",employeeUANNo:emp.UANNo||\"\",employeePerHrSalary:salaryPerHr||0,employeePresentDays:presentDays||0,employeeAbsentDays:absentDays||0,employeeBasicSalary:basicSalary||0,employeeHouseRent:houseRent||0,employeeEPF:emp.epf||0,employeeESIC:emp.esic||0,employeeIncentives:emp.employeeIncentives||0,employeeAllowances:emp.employeeAllowances||0,employeeAdvance:emp.employeeAdvance||0,employeePLoss:unpaidLeave||0,employeePLossAmount:productionLossAmount||0,employeeOT1Days:ot1Decimal||0,// OT1 in decimal\nemployeeOT1Amount:ot1Amount||0,employeeOT2Days:ot2Decimal||0,// OT2 in decimal\nemployeeOT2Amount:ot2Amount||0,salary:emp.salary||0,employeeHoldOT:emp.employeeHoldOT||0,payOn5th:payOn5th>0?payOn5th:0||0,// Calculated pay on 5th (without overtime)\npayOn20th:payOn20th>0?payOn20th:0||0,// Calculated pay on 20th (with overtime)\nempSalary:empSalary>0?empSalary:0||0,// Total salary (with overtime)\nempBalance:emp.empBalance||0,totalOT1:`${totalOT1Hours} hrs ${totalOT1RemainderMinutes} mins`,// OT1 in time format\ntotalOT2:`${totalOT2Hours} hrs ${totalOT2RemainderMinutes} mins`// OT2 in time format\n};});setEmployee(mappedEmployeeData);console.log(\"employee : \",employee);}catch(error){console.error(\"Error fetching employee data:\",error);setError(\"Error fetching employee data.\");setTimeout(()=>setError(\"\"),5000);}};useEffect(()=>{const fetchData=async()=>{await fetchAttendance();await fetchEmployee(attendanceData);await fetchHolidays();};fetchData();},[]);const handleError=message=>{setError(message);setTimeout(()=>setError(\"\"),5000);};const calculateFields=employee=>{const salaryPerHr=employee.employeePerHrSalary;const presentDays=employee.employeePresentDays;const advance=employee.employeeAdvance;const holdOT=employee.employeeHoldOT;const productionLossAmount=employee.employeePLoss*salaryPerHr*8||0;const basicSalary=Math.round(salaryPerHr*presentDays*8)/2||0;const houseRent=Math.round(salaryPerHr*presentDays*8)/4||0;const ot1Amount=Math.round(employee.employeeOT1Days*salaryPerHr*1.25)||0;const ot2Amount=Math.round(employee.employeeOT2Days*salaryPerHr*1.75)||0;const totalSalary=basicSalary+houseRent+Number(employee.employeeIncentives)+Number(employee.employeeAllowances)-Number(employee.employeeESIC)-Number(employee.employeeEPF)+Number(advance)+ot1Amount+ot2Amount-holdOT;const payOn5th=basicSalary+houseRent+Number(employee.employeeIncentives)+Number(employee.employeeAllowances)-Number(employee.employeeESIC)-Number(employee.employeeEPF)+Number(advance);const payOn20th=ot1Amount+ot2Amount-holdOT;return{employeeBasicSalary:basicSalary,employeeHouseRent:houseRent,employeeOT1Amount:ot1Amount,employeeOT2Amount:ot2Amount,employeePLossAmount:productionLossAmount,empSalary:totalSalary>0?totalSalary:0,payOn5th:payOn5th>0?payOn5th:0,payOn20th:payOn20th>0?payOn20th:0,empBalance:holdOT};};const handleChange=(e,id,field)=>{const{value}=e.target;setEmployee(prevData=>prevData.map(emp=>{if(emp.employeeId===id){const updatedEmp={...emp,[field]:value};// Calculate fields based on the updated employee data\nconst calculatedFields=calculateFields(updatedEmp);// Update the employee's fields\nreturn{...updatedEmp,...calculatedFields};}return emp;}));};const sendEmployeeData=async employeebase=>{try{if(!employeebase||typeof employeebase!==\"object\"){alert(\"Employee data is missing or invalid.\");return;}if(!employeebase.employeeEmail){alert(\"Employee email is required.\");return;}// Prepare the payload\nconst payload={employeeData:employeebase,email:employeebase.employeeEmail,month:selectedMonth,year:selectedYear};// Send the request\nconst response=await axios.post(`${url}/v1/api/payroll`,payload,{headers:{\"Content-Type\":\"application/json\"}});// Check the response status\nif([200,201].includes(response.status)){return{success:true,message:\"Employee data sent successfully!\"};}else{return{success:false,message:\"Failed to send employee data.\"};}}catch(error){var _error$response,_error$response$data;console.error(\"Error sending employee data:\",error);const errorMsg=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||\"An error occurred while sending employee data.\";return{success:false,message:errorMsg};}};const handleSendAllEmployees=async e=>{e.preventDefault();try{// Validate input fields\nif(!selectedMonth||!selectedYear){alert(\"Please select both month and year.\");return;}// Send data for all employees concurrently\nconst results=await Promise.all(employee.map(emp=>sendEmployeeData(emp)));// Check results for failures\nconst failed=results.filter(result=>!result.success);if(failed.length>0){console.warn(`Failed to send data for ${failed.length} employee(s):`,failed.map(result=>result.message));alert(`Failed to send data for ${failed.length} employee(s).`);}else{alert(\"Data successfully sent to all employees!\");}}catch(error){console.error(\"Error sending employee data:\",error);alert(\"An unexpected error occurred while sending employee data. Please try again.\");}};console.log(\"attendance : \",attendanceData);const fields=[{label:\"Present\",field:\"employeePresentDays\"},{label:\"Absent\",field:\"employeeAbsentDays\"},{label:\"Basic\",field:\"employeeBasicSalary\"},{label:\"House Rent\",field:\"employeeHouseRent\"},{label:\"EPF\",field:\"employeeEPF\"},{label:\"ESIC\",field:\"employeeESIC\"},{label:\"Incentives\",field:\"employeeIncentives\"},{label:\"Allowance\",field:\"employeeAllowances\"},{label:\"Advance\",field:\"employeeAdvance\"},{label:\"P.Loss Days\",field:\"employeePLoss\"},{label:\"P.Loss Amount\",field:\"employeePLossAmount\"},{label:\"OT 1\",field:\"employeeOT1Days\"},{label:\"OT 1 Amount\",field:\"employeeOT1Amount\"},{label:\"OT 2\",field:\"employeeOT2Days\"},{label:\"OT 2 Amount\",field:\"employeeOT2Amount\"},{label:\"Hold OT\",field:\"employeeHoldOT\"},{label:\"Pay on 5th\",field:\"payOn5th\"},{label:\"Pay on 20th\",field:\"payOn20th\"},{label:\"Salary\",field:\"empSalary\"},{label:\"Balance\",field:\"empBalance\"}];return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"ksierperki4545454\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lpieoroeroerrere\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"psioo5o4o54io5k5\",children:\"Payroll Details\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{onChange:e=>{e.preventDefault();handleMonth(e);handleMonthChange(e);},className:\"pojejrejrerer\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"January\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"February\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"March\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"April\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"May\"}),/*#__PURE__*/_jsx(\"option\",{value:\"6\",children:\"June\"}),/*#__PURE__*/_jsx(\"option\",{value:\"7\",children:\"July\"}),/*#__PURE__*/_jsx(\"option\",{value:\"8\",children:\"August\"}),/*#__PURE__*/_jsx(\"option\",{value:\"9\",children:\"September\"}),/*#__PURE__*/_jsx(\"option\",{value:\"10\",children:\"October\"}),/*#__PURE__*/_jsx(\"option\",{value:\"11\",children:\"November\"}),/*#__PURE__*/_jsx(\"option\",{value:\"12\",children:\"December\"})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"select\",{value:selectedYear,onChange:handleYearChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Year\"}),Array.from({length:5},(_,i)=>{const year=new Date().getFullYear()-i;return/*#__PURE__*/_jsx(\"option\",{value:year,children:year},year);})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ldijk45rrt\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"overviewPayroll\",children:\"Overview\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"sldijkero454545\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sliderfk5445\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"svg1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"keofroei4o5454\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"totalEmployewgy434\",children:\"Total Employee\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"noofemplueelist34\",children:[employee.length,\" Employees\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sliderfk5445\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"svg2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"keofroei4o5454\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"totalEmployewgy434\",children:\"Total Net Pay\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"noofemplueelist34\",children:[\"\\u20B9\",\" \",Math.max(employee.reduce((total,emp)=>total+Number(emp.employeeBasicSalary)+Number(emp.employeeHouseRent)+Number(emp.employeeIncentives)+Number(emp.employeeAllowances)-Number(emp.employeeESIC)-Number(emp.employeeEPF)+Number(emp.employeeAdvance)+Number(emp.employeeOT1Amount)+Number(emp.employeeOT2Amount)-Number(emp.employeeHoldOT),0),0)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sliderfk5445\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"svg 3\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"keofroei4o5454\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"totalEmployewgy434\",children:\"Total Gross Pay\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"noofemplueelist34\",children:[\"\\u20B9\",\" \",employee.reduce((total,emp)=>total+Number(emp.empSalary)+Number(emp.employeeEPF)+Number(emp.employeeESIC)+Number(emp.employeeAdvance)+Number(emp.employeeOT1Amount)+Number(emp.employeeOT2Amount),0)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sliderfk5445\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"svg 4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"keofroei4o5454\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"totalEmployewgy434\",children:\"Total Deduction\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"noofemplueelist34\",children:[\"\\u20B9\",\" \",employee.reduce((total,emp)=>total+Number(emp.employeeEPF)+Number(emp.employeeESIC),0)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sliderfk5445\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"svg 5\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"keofroei4o5454\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"totalEmployewgy434\",children:\"Total Deduction\"}),/*#__PURE__*/_jsx(\"div\",{className:\"noofemplueelist34\",children:\"\\u20B9 2,00,000.00\"})]})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"whgitebackgroundivsss\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"kkdkl4l34k4343443\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"employeeddtextfguh3453\",children:\"Employee Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"poogp656556\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"seqarch3453455\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Search Employee\",type:\"text\",className:\"searchemployeepayrolldiv21\",value:searchQuery,onChange:e=>{setSearchQuery(e.target.value);searchfilter(e);}}),/*#__PURE__*/_jsx(\"div\",{className:\"searchiconsvgpayroll\",children:\"svg 6\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lsoi34545545\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"sharetoexportbutton\",onClick:handleSendAllEmployees,children:\"PayRun\"}),/*#__PURE__*/_jsx(\"div\",{className:\"shareiicontorxpoort\",children:\"svg 7\"})]})]})]}),employee&&employee.map((emp,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flexofjo4546656\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ksiskfdk54\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:`http://localhost:4000${emp.employeePicture}`,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"nameofthejkd\",children:emp.employeeName}),/*#__PURE__*/_jsx(\"div\",{className:\"nameofthejkd\",children:emp.designation}),/*#__PURE__*/_jsxs(\"div\",{className:\"nameofthejkd\",children:[\"Emp Id - \",emp.employeeId]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nameofthejkd\",children:[\"Salary - \\u20B9 \",emp.salary]}),/*#__PURE__*/_jsxs(\"div\",{className:\"nameofthejkd\",children:[\"Salary/Hr - \\u20B9 \",emp.employeePerHrSalary]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"inputfLEXSHSH\",children:fields.map(_ref3=>{let{label,field}=_ref3;return/*#__PURE__*/_jsxs(\"div\",{className:\"onekdi4545\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"label\",{className:\"lABLETTITLEII\",htmlFor:\"\",children:label})}),/*#__PURE__*/_jsx(\"input\",{onChange:e=>handleChange(e,emp.employeeId,field),className:\"inputpayroll\",type:\"number\",value:emp[field]})]},field);})})})]},index))]})]})});}","map":{"version":3,"names":["React","useEffect","useState","url","axios","jsx","_jsx","jsxs","_jsxs","PayrollPage","employee","setEmployee","attendanceData","setAttendanceData","error","setError","isLoading","setIsLoading","selectedMonth","setSelectedMonth","selectedYear","setSelectedYear","Date","getFullYear","holidayList","setHolidayList","searchQuery","setSearchQuery","handleMonth","e","target","value","searchfilter","preventDefault","prevState","filter","emp","employeeName","toLowerCase","includes","employeeId","toString","handleYearChange","handleMonthChange","event","parseInt","currentYear","filteredData","filterRecordsByMonth","fetchEmployee","useCallback","data","year","month","map","_ref","records","record","recordDate","date","getMonth","_ref2","length","fetchAttendance","response","get","handleError","fetchHolidays","filteredAttendance","empResponse","employeeData","totalOvertimeHours","mappedEmployeeData","attendanceRecord","find","att","presentDays","rec","status","absentDays","unpaidLeave","salaryPerHr","Math","round","salary","basicSalary","houseRent","totalOT1Minutes","totalOT2Minutes","forEach","punchIn","punchOut","diffInMinutes","floor","excessMinutes","max","totalOT1Hours","totalOT1RemainderMinutes","totalOT2Hours","totalOT2RemainderMinutes","OT1","hours","minutes","OT2","ot1Decimal","ot2Decimal","ot1Amount","ot2Amount","empSalary","Number","epf","esic","payOn5th","payOn20th","productionLossAmount","employeePicture","employeeDesignation","designation","employeeEmail","mailId","employeeDepartment","department","employeeMobileNumber","mobileNumber","employeeAadhaarNo","aadhaarNo","employeePANNumber","PANNumber","employeeESICId","esicId","employeeEPFId","epfId","employeeUANNo","UANNo","employeePerHrSalary","employeePresentDays","employeeAbsentDays","employeeBasicSalary","employeeHouseRent","employeeEPF","employeeESIC","employeeIncentives","employeeAllowances","employeeAdvance","employeePLoss","employeePLossAmount","employeeOT1Days","employeeOT1Amount","employeeOT2Days","employeeOT2Amount","employeeHoldOT","empBalance","totalOT1","totalOT2","console","log","setTimeout","fetchData","message","calculateFields","advance","holdOT","totalSalary","handleChange","id","field","prevData","updatedEmp","calculatedFields","sendEmployeeData","employeebase","alert","payload","email","post","headers","success","_error$response","_error$response$data","errorMsg","handleSendAllEmployees","results","Promise","all","failed","result","warn","fields","label","children","className","onChange","required","Array","from","_","i","reduce","total","placeholder","type","onClick","index","src","alt","_ref3","htmlFor"],"sources":["D:/asherDn/masttec/masttecWorking/frontend/src/Components/7.Payroll.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"../CSS/PayrollCSS.css\";\r\nimport url from \"./global\";\r\nimport axios from \"axios\";\r\n\r\nexport default function PayrollPage() {\r\n  const [employee, setEmployee] = useState([]);\r\n  const [attendanceData, setAttendanceData] = useState([]);\r\n  const [error, setError] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [selectedMonth, setSelectedMonth] = useState(\"\");\r\n  const [selectedYear, setSelectedYear] = useState(new Date().getFullYear()); // Initialize with current year\r\n  const [holidayList, setHolidayList] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const handleMonth = async (e) => {\r\n    setSelectedMonth(e.target.value);\r\n  };\r\n  const searchfilter = async (e) => {\r\n    e.preventDefault();\r\n    if (searchQuery) {\r\n      setEmployee((prevState) =>\r\n        prevState.filter(\r\n          (emp) =>\r\n            emp.employeeName\r\n              .toLowerCase()\r\n              .includes(searchQuery.toLowerCase()) ||\r\n            emp.employeeId.toString().includes(searchQuery)\r\n        )\r\n      );\r\n    } else {\r\n      setEmployee(employee);\r\n    }\r\n  };\r\n  const handleYearChange = async (e) => {\r\n    setSelectedYear(e.target.value);\r\n  };\r\n  const handleMonthChange = async (event) => {\r\n    const selectedMonth = parseInt(event.target.value); // Get the selected month (1-12)\r\n    const currentYear = new Date().getFullYear(); // Get the current year\r\n\r\n    const filteredData = filterRecordsByMonth(\r\n      attendanceData,\r\n      currentYear,\r\n      selectedMonth\r\n    );\r\n\r\n    // Fetch employee data and then set filtered attendance\r\n    fetchEmployee(filteredData); // Directly use filteredData without awaiting\r\n  };\r\n\r\n  const filterRecordsByMonth = React.useCallback((data, year, month) => {\r\n    return data\r\n      .map(({ employeeId, records }) => ({\r\n        employeeId,\r\n        records: records.filter((record) => {\r\n          const recordDate = new Date(record.date);\r\n          return (\r\n            recordDate.getFullYear() === year &&\r\n            recordDate.getMonth() + 1 === month\r\n          );\r\n        }),\r\n      }))\r\n      .filter(({ records }) => records.length > 0); // Only include employees with records\r\n  }, []);\r\n\r\n  const fetchAttendance = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await axios.get(`${url}/v1/api/attendance`);\r\n      setAttendanceData(response.data);\r\n    } catch (error) {\r\n      handleError(\"Error fetching attendance data.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  const fetchHolidays = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await axios.get(`${url}/v1/api/attendance`);\r\n      setAttendanceData(response.data);\r\n    } catch (error) {\r\n      handleError(\"Error fetching attendance data.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  const fetchEmployee = async (filteredAttendance) => {\r\n    try {\r\n      const empResponse = await axios.get(`${url}/v1/api/employees`);\r\n      const employeeData = empResponse.data;\r\n\r\n      const totalOvertimeHours = {}; // Initialize total overtime storage\r\n\r\n      const mappedEmployeeData = employeeData.map((emp) => {\r\n        const attendanceRecord = filteredAttendance.find(\r\n          (att) => att.employeeId === emp.employeeId\r\n        );\r\n\r\n        const presentDays = attendanceRecord\r\n          ? attendanceRecord.records.filter((rec) => rec.status === \"Present\")\r\n              .length\r\n          : 0;\r\n        const absentDays = attendanceRecord\r\n          ? attendanceRecord.records.filter((rec) => rec.status === \"Absent\")\r\n              .length\r\n          : 0;\r\n        const unpaidLeave = attendanceRecord\r\n          ? attendanceRecord.records.filter(\r\n              (rec) => rec.status === \"Up-Paid Leave\"\r\n            ).length\r\n          : 0;\r\n        const salaryPerHr = Math.round(emp.salary / (30 * 8)) || 0; // Hourly rate calculation\r\n        const basicSalary = Math.round(salaryPerHr * presentDays * 8) / 2 || 0; // Adjusted for present days\r\n        const houseRent = Math.round(salaryPerHr * presentDays * 8) / 4 || 0; // Adjusted for present days\r\n        let totalOT1Minutes = 0; // Overtime for Present status\r\n        let totalOT2Minutes = 0; // Overtime for Sunday/Holiday status\r\n\r\n        // Calculate overtime from attendance records\r\n        attendanceRecord?.records.forEach((record) => {\r\n          const punchIn = new Date(record.punchIn);\r\n          const punchOut = new Date(record.punchOut);\r\n\r\n          if (punchIn && punchOut && punchOut > punchIn) {\r\n            const diffInMinutes = Math.floor(\r\n              (punchOut - punchIn) / (1000 * 60)\r\n            );\r\n            const excessMinutes = Math.max(0, diffInMinutes - 8 * 60); // Check for overtime\r\n\r\n            // Assign overtime to the correct category based on the status\r\n            if (record.status === \"Present\") {\r\n              totalOT1Minutes += excessMinutes; // OT1 for Present\r\n            } else if (\r\n              record.status === \"Sunday\" || // Check if it's Sunday\r\n              record.date.includes(holidayList) // Or a holiday\r\n            ) {\r\n              totalOT2Minutes += excessMinutes; // OT2 for Sunday/Holiday\r\n            }\r\n          }\r\n        });\r\n\r\n        // Convert overtime minutes to hours and minutes\r\n        const totalOT1Hours = Math.floor(totalOT1Minutes / 60);\r\n        const totalOT1RemainderMinutes = totalOT1Minutes % 60;\r\n\r\n        const totalOT2Hours = Math.floor(totalOT2Minutes / 60);\r\n        const totalOT2RemainderMinutes = totalOT2Minutes % 60;\r\n\r\n        // Store the overtime hours for both OT1 and OT2\r\n        totalOvertimeHours[emp.employeeId] = {\r\n          OT1: {\r\n            hours: totalOT1Hours,\r\n            minutes: totalOT1RemainderMinutes,\r\n          },\r\n          OT2: {\r\n            hours: totalOT2Hours,\r\n            minutes: totalOT2RemainderMinutes,\r\n          },\r\n        };\r\n\r\n        // Convert OT1 and OT2 to decimal hours\r\n        const ot1Decimal = totalOT1Hours + totalOT1RemainderMinutes / 60;\r\n        const ot2Decimal = totalOT2Hours + totalOT2RemainderMinutes / 60;\r\n\r\n        // Calculate OT1 and OT2 amounts with the respective multipliers\r\n        const ot1Amount = Math.round(ot1Decimal * salaryPerHr * 1.25); // OT1 at 1.25x\r\n        const ot2Amount = Math.round(ot2Decimal * salaryPerHr * 1.75); // OT2 at 1.75x\r\n\r\n        // Calculate total salary and payments (automatically interlinked)\r\n        const empSalary =\r\n          basicSalary +\r\n          houseRent +\r\n          ot1Amount +\r\n          ot2Amount -\r\n          Number(emp.epf) -\r\n          Number(emp.esic);\r\n        const payOn5th =\r\n          basicSalary + houseRent - Number(emp.epf) - Number(emp.esic);\r\n        const payOn20th = ot1Amount + ot2Amount;\r\n        const productionLossAmount = unpaidLeave * salaryPerHr * 8;\r\n        return {\r\n          employeeName: emp.employeeName || \"\",\r\n          employeePicture: emp.employeePicture || \"\",\r\n          employeeDesignation: emp.designation || \"\",\r\n          employeeEmail: emp.mailId || \"\",\r\n          employeeDepartment: emp.department || \"\",\r\n          employeeId: emp.employeeId || \"\",\r\n          employeeMobileNumber: emp.mobileNumber || \"\",\r\n          employeeAadhaarNo: emp.aadhaarNo || \"\",\r\n          employeePANNumber: emp.PANNumber || \"\",\r\n          employeeESICId: emp.esicId || \"\",\r\n          employeeEPFId: emp.epfId || \"\",\r\n          employeeUANNo: emp.UANNo || \"\",\r\n          employeePerHrSalary: salaryPerHr || 0,\r\n          employeePresentDays: presentDays || 0,\r\n          employeeAbsentDays: absentDays || 0,\r\n          employeeBasicSalary: basicSalary || 0,\r\n          employeeHouseRent: houseRent || 0,\r\n          employeeEPF: emp.epf || 0,\r\n          employeeESIC: emp.esic || 0,\r\n          employeeIncentives: emp.employeeIncentives || 0,\r\n          employeeAllowances: emp.employeeAllowances || 0,\r\n          employeeAdvance: emp.employeeAdvance || 0,\r\n          employeePLoss: unpaidLeave || 0,\r\n          employeePLossAmount: productionLossAmount || 0,\r\n          employeeOT1Days: ot1Decimal || 0, // OT1 in decimal\r\n          employeeOT1Amount: ot1Amount || 0,\r\n          employeeOT2Days: ot2Decimal || 0, // OT2 in decimal\r\n          employeeOT2Amount: ot2Amount || 0,\r\n          salary: emp.salary || 0,\r\n          employeeHoldOT: emp.employeeHoldOT || 0,\r\n          payOn5th: payOn5th > 0 ? payOn5th : 0 || 0, // Calculated pay on 5th (without overtime)\r\n          payOn20th: payOn20th > 0 ? payOn20th : 0 || 0, // Calculated pay on 20th (with overtime)\r\n          empSalary: empSalary > 0 ? empSalary : 0 || 0, // Total salary (with overtime)\r\n          empBalance: emp.empBalance || 0,\r\n          totalOT1: `${totalOT1Hours} hrs ${totalOT1RemainderMinutes} mins`, // OT1 in time format\r\n          totalOT2: `${totalOT2Hours} hrs ${totalOT2RemainderMinutes} mins`, // OT2 in time format\r\n        };\r\n      });\r\n\r\n      setEmployee(mappedEmployeeData);\r\n      console.log(\"employee : \", employee);\r\n    } catch (error) {\r\n      console.error(\"Error fetching employee data:\", error);\r\n      setError(\"Error fetching employee data.\");\r\n      setTimeout(() => setError(\"\"), 5000);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      await fetchAttendance();\r\n      await fetchEmployee(attendanceData);\r\n      await fetchHolidays();\r\n    };\r\n    fetchData();\r\n  }, []);\r\n  const handleError = (message) => {\r\n    setError(message);\r\n    setTimeout(() => setError(\"\"), 5000);\r\n  };\r\n\r\n  const calculateFields = (employee) => {\r\n    const salaryPerHr = employee.employeePerHrSalary;\r\n    const presentDays = employee.employeePresentDays;\r\n    const advance = employee.employeeAdvance;\r\n    const holdOT = employee.employeeHoldOT;\r\n    const productionLossAmount = employee.employeePLoss * salaryPerHr * 8 || 0;\r\n\r\n    const basicSalary = Math.round(salaryPerHr * presentDays * 8) / 2 || 0;\r\n    const houseRent = Math.round(salaryPerHr * presentDays * 8) / 4 || 0;\r\n\r\n    const ot1Amount =\r\n      Math.round(employee.employeeOT1Days * salaryPerHr * 1.25) || 0;\r\n    const ot2Amount =\r\n      Math.round(employee.employeeOT2Days * salaryPerHr * 1.75) || 0;\r\n\r\n    const totalSalary =\r\n      basicSalary +\r\n      houseRent +\r\n      Number(employee.employeeIncentives) +\r\n      Number(employee.employeeAllowances) -\r\n      Number(employee.employeeESIC) -\r\n      Number(employee.employeeEPF) +\r\n      Number(advance) +\r\n      ot1Amount +\r\n      ot2Amount -\r\n      holdOT;\r\n\r\n    const payOn5th =\r\n      basicSalary +\r\n      houseRent +\r\n      Number(employee.employeeIncentives) +\r\n      Number(employee.employeeAllowances) -\r\n      Number(employee.employeeESIC) -\r\n      Number(employee.employeeEPF) +\r\n      Number(advance);\r\n    const payOn20th = ot1Amount + ot2Amount - holdOT;\r\n\r\n    return {\r\n      employeeBasicSalary: basicSalary,\r\n      employeeHouseRent: houseRent,\r\n      employeeOT1Amount: ot1Amount,\r\n      employeeOT2Amount: ot2Amount,\r\n      employeePLossAmount: productionLossAmount,\r\n      empSalary: totalSalary > 0 ? totalSalary : 0,\r\n      payOn5th: payOn5th > 0 ? payOn5th : 0,\r\n      payOn20th: payOn20th > 0 ? payOn20th : 0,\r\n      empBalance: holdOT,\r\n    };\r\n  };\r\n\r\n  const handleChange = (e, id, field) => {\r\n    const { value } = e.target;\r\n\r\n    setEmployee((prevData) =>\r\n      prevData.map((emp) => {\r\n        if (emp.employeeId === id) {\r\n          const updatedEmp = { ...emp, [field]: value };\r\n\r\n          // Calculate fields based on the updated employee data\r\n          const calculatedFields = calculateFields(updatedEmp);\r\n\r\n          // Update the employee's fields\r\n          return { ...updatedEmp, ...calculatedFields };\r\n        }\r\n        return emp;\r\n      })\r\n    );\r\n  };\r\n\r\n  const sendEmployeeData = async (employeebase) => {\r\n    try {\r\n      if (!employeebase || typeof employeebase !== \"object\") {\r\n        alert(\"Employee data is missing or invalid.\");\r\n        return;\r\n      }\r\n\r\n      if (!employeebase.employeeEmail) {\r\n        alert(\"Employee email is required.\");\r\n        return;\r\n      }\r\n\r\n      // Prepare the payload\r\n      const payload = {\r\n        employeeData: employeebase,\r\n        email: employeebase.employeeEmail,\r\n        month: selectedMonth,\r\n        year: selectedYear,\r\n      };\r\n\r\n      // Send the request\r\n      const response = await axios.post(`${url}/v1/api/payroll`, payload, {\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n      });\r\n\r\n      // Check the response status\r\n      if ([200, 201].includes(response.status)) {\r\n        return { success: true, message: \"Employee data sent successfully!\" };\r\n      } else {\r\n        return { success: false, message: \"Failed to send employee data.\" };\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error sending employee data:\", error);\r\n      const errorMsg =\r\n        error.response?.data?.message ||\r\n        \"An error occurred while sending employee data.\";\r\n      return { success: false, message: errorMsg };\r\n    }\r\n  };\r\n\r\n  const handleSendAllEmployees = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      // Validate input fields\r\n      if (!selectedMonth || !selectedYear) {\r\n        alert(\"Please select both month and year.\");\r\n        return;\r\n      }\r\n\r\n      // Send data for all employees concurrently\r\n      const results = await Promise.all(\r\n        employee.map((emp) => sendEmployeeData(emp))\r\n      );\r\n\r\n      // Check results for failures\r\n      const failed = results.filter((result) => !result.success);\r\n\r\n      if (failed.length > 0) {\r\n        console.warn(\r\n          `Failed to send data for ${failed.length} employee(s):`,\r\n          failed.map((result) => result.message)\r\n        );\r\n        alert(`Failed to send data for ${failed.length} employee(s).`);\r\n      } else {\r\n        alert(\"Data successfully sent to all employees!\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error sending employee data:\", error);\r\n      alert(\r\n        \"An unexpected error occurred while sending employee data. Please try again.\"\r\n      );\r\n    }\r\n  };\r\n\r\n  console.log(\"attendance : \", attendanceData);\r\n  const fields = [\r\n    { label: \"Present\", field: \"employeePresentDays\" },\r\n    { label: \"Absent\", field: \"employeeAbsentDays\" },\r\n    { label: \"Basic\", field: \"employeeBasicSalary\" },\r\n    { label: \"House Rent\", field: \"employeeHouseRent\" },\r\n    { label: \"EPF\", field: \"employeeEPF\" },\r\n    { label: \"ESIC\", field: \"employeeESIC\" },\r\n    { label: \"Incentives\", field: \"employeeIncentives\" },\r\n    { label: \"Allowance\", field: \"employeeAllowances\" },\r\n    { label: \"Advance\", field: \"employeeAdvance\" },\r\n    { label: \"P.Loss Days\", field: \"employeePLoss\" },\r\n    { label: \"P.Loss Amount\", field: \"employeePLossAmount\" },\r\n    { label: \"OT 1\", field: \"employeeOT1Days\" },\r\n    { label: \"OT 1 Amount\", field: \"employeeOT1Amount\" },\r\n    { label: \"OT 2\", field: \"employeeOT2Days\" },\r\n    { label: \"OT 2 Amount\", field: \"employeeOT2Amount\" },\r\n    { label: \"Hold OT\", field: \"employeeHoldOT\" },\r\n    { label: \"Pay on 5th\", field: \"payOn5th\" },\r\n    { label: \"Pay on 20th\", field: \"payOn20th\" },\r\n    { label: \"Salary\", field: \"empSalary\" },\r\n    { label: \"Balance\", field: \"empBalance\" },\r\n  ];\r\n  return (\r\n    <div>\r\n      <div className=\"ksierperki4545454\">\r\n        <div className=\"lpieoroeroerrere\">\r\n          <div className=\"psioo5o4o54io5k5\">Payroll Details</div>\r\n          <div>\r\n            <div>\r\n              <select\r\n                onChange={(e) => {\r\n                  e.preventDefault();\r\n                  handleMonth(e);\r\n                  handleMonthChange(e);\r\n                }}\r\n                className=\"pojejrejrerer\"\r\n              >\r\n                <option value=\"1\">January</option>\r\n                <option value=\"2\">February</option>\r\n                <option value=\"3\">March</option>\r\n                <option value=\"4\">April</option>\r\n                <option value=\"5\">May</option>\r\n                <option value=\"6\">June</option>\r\n                <option value=\"7\">July</option>\r\n                <option value=\"8\">August</option>\r\n                <option value=\"9\">September</option>\r\n                <option value=\"10\">October</option>\r\n                <option value=\"11\">November</option>\r\n                <option value=\"12\">December</option>\r\n              </select>\r\n            </div>\r\n            <div>\r\n              <select value={selectedYear} onChange={handleYearChange} required>\r\n                <option value=\"\">Select Year</option>\r\n                {Array.from({ length: 5 }, (_, i) => {\r\n                  const year = new Date().getFullYear() - i;\r\n                  return (\r\n                    <option key={year} value={year}>\r\n                      {year}\r\n                    </option>\r\n                  );\r\n                })}\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"ldijk45rrt\">\r\n          <div className=\"overviewPayroll\">Overview</div>\r\n          <div>\r\n            <div className=\"sldijkero454545\">\r\n              <div className=\"sliderfk5445\">\r\n                <div>svg1</div>\r\n                <div className=\"keofroei4o5454\">\r\n                  <div className=\"totalEmployewgy434\">Total Employee</div>\r\n                  <div className=\"noofemplueelist34\">\r\n                    {employee.length} Employees\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"sliderfk5445\">\r\n                <div>svg2</div>\r\n                <div className=\"keofroei4o5454\">\r\n                  <div className=\"totalEmployewgy434\">Total Net Pay</div>\r\n                  <div className=\"noofemplueelist34\">\r\n                    ₹{\" \"}\r\n                    {Math.max(\r\n                      employee.reduce(\r\n                        (total, emp) =>\r\n                          total +\r\n                          Number(emp.employeeBasicSalary) +\r\n                          Number(emp.employeeHouseRent) +\r\n                          Number(emp.employeeIncentives) +\r\n                          Number(emp.employeeAllowances) -\r\n                          Number(emp.employeeESIC) -\r\n                          Number(emp.employeeEPF) +\r\n                          Number(emp.employeeAdvance) +\r\n                          Number(emp.employeeOT1Amount) +\r\n                          Number(emp.employeeOT2Amount) -\r\n                          Number(emp.employeeHoldOT),\r\n                        0\r\n                      ),\r\n                      0\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"sliderfk5445\">\r\n                <div>svg 3</div>\r\n                <div className=\"keofroei4o5454\">\r\n                  <div className=\"totalEmployewgy434\">Total Gross Pay</div>\r\n                  <div className=\"noofemplueelist34\">\r\n                    ₹{\" \"}\r\n                    {employee.reduce(\r\n                      (total, emp) =>\r\n                        total +\r\n                        Number(emp.empSalary) +\r\n                        Number(emp.employeeEPF) +\r\n                        Number(emp.employeeESIC) +\r\n                        Number(emp.employeeAdvance) +\r\n                        Number(emp.employeeOT1Amount) +\r\n                        Number(emp.employeeOT2Amount),\r\n                      0\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"sliderfk5445\">\r\n                <div>svg 4</div>\r\n                <div className=\"keofroei4o5454\">\r\n                  <div className=\"totalEmployewgy434\">Total Deduction</div>\r\n                  <div className=\"noofemplueelist34\">\r\n                    ₹{\" \"}\r\n                    {employee.reduce(\r\n                      (total, emp) =>\r\n                        total +\r\n                        Number(emp.employeeEPF) +\r\n                        Number(emp.employeeESIC),\r\n                      0\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"sliderfk5445\">\r\n                <div>svg 5</div>\r\n                <div className=\"keofroei4o5454\">\r\n                  <div className=\"totalEmployewgy434\">Total Deduction</div>\r\n                  <div className=\"noofemplueelist34\">₹ 2,00,000.00</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"whgitebackgroundivsss\">\r\n          <div className=\"kkdkl4l34k4343443\">\r\n            <div className=\"employeeddtextfguh3453\">Employee Details</div>\r\n            <div className=\"poogp656556\">\r\n              <div className=\"seqarch3453455\">\r\n                <input\r\n                  placeholder=\"Search Employee\"\r\n                  type=\"text\"\r\n                  className=\"searchemployeepayrolldiv21\"\r\n                  value={searchQuery}\r\n                  onChange={(e) => {\r\n                    setSearchQuery(e.target.value);\r\n                    searchfilter(e);\r\n                  }}\r\n                />\r\n                <div className=\"searchiconsvgpayroll\">svg 6</div>\r\n              </div>\r\n              <div className=\"lsoi34545545\">\r\n                <button\r\n                  className=\"sharetoexportbutton\"\r\n                  onClick={handleSendAllEmployees}\r\n                >\r\n                  PayRun\r\n                </button>\r\n                <div className=\"shareiicontorxpoort\">svg 7</div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {employee &&\r\n            employee.map((emp, index) => (\r\n              <div className=\"flexofjo4546656\" key={index}>\r\n                <div className=\"ksiskfdk54\">\r\n                  <div>\r\n                    <img\r\n                      src={`http://localhost:4000${emp.employeePicture}`}\r\n                      alt=\"\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"nameofthejkd\">{emp.employeeName}</div>\r\n                  <div className=\"nameofthejkd\">{emp.designation}</div>\r\n                  <div className=\"nameofthejkd\">Emp Id - {emp.employeeId}</div>\r\n                  <div className=\"nameofthejkd\">Salary - ₹ {emp.salary}</div>\r\n                  <div className=\"nameofthejkd\">\r\n                    Salary/Hr - ₹ {emp.employeePerHrSalary}\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"inputfLEXSHSH\">\r\n                    {fields.map(({ label, field }) => (\r\n                      <div className=\"onekdi4545\" key={field}>\r\n                        <div>\r\n                          <label className=\"lABLETTITLEII\" htmlFor=\"\">\r\n                            {label}\r\n                          </label>\r\n                        </div>\r\n                        <input\r\n                          onChange={(e) =>\r\n                            handleChange(e, emp.employeeId, field)\r\n                          }\r\n                          className=\"inputpayroll\"\r\n                          type=\"number\"\r\n                          value={emp[field]}\r\n                        />\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}